### 背景

目前没有一套统一的下载中心，各个业务都有自己的异步或同步的下载任务，在一定程度上造成了资源的浪费，加大了系统维护的复杂度

下载量大的时候客户端需要等待很久，甚至会超时，阻塞用户后续操作

### 主要过程

1. 业务系统发起导出请求
2. 服务端进行异步处理
3. 客户端进行轮询下载进度
4. 下载处理成功的excel

### 具体过程

#### 业务系统发出导出请求

前置要求：列表查询接口支持分页（用于后端进行分页处理数据）

通过格式化的请求对象配置，来达到不同的业务系统都能够进行统一的请求

1. 后端接口的入参和返回值的不统一，通过业务系统中的前端调用和返回处进行统一的数据处理
2. 导出的excel的字段值和表头定义的映射关系
3. 业务系统id、请求方式等


#### 服务端进行异步处理


#### 客户端进行轮询下载进度

在下载中心页面中，前端轮询下载进度（初始化中、导出中、导出失败、导出成功），下载成功的，进行红点或者数字标识

由于某些原因下载失败的，可以点击重试按钮进行重新创建下载任务

#### 下载处理成功的excel

服务端处理成功的数据，已经创建成了excel，前端直接下载即可，然后把下载状态从待下载改为已下载
[toc]

这个介绍蛮详细的

<https://www.cnblogs.com/cyrus0w/p/13123504.html>

### 什么是内网穿透

又称为`端口映射`，也就是`将本地内网端口映射到公网`

内网其实就是局域网，在家或者任何公共场所想要访问到公司的内部网络，这种情况就需要内网穿透

将原本只能在本机上访问的项目网站等，通过内网穿透使得其他人可以在公网上访问

### 为什么要内网穿透

#### 场景一

你的本地项目，需要在网络上进行访问，正常需要部署到服务器上

如果使用内网穿透就可以直接访问了，而且可以实现本地调试

#### 场景二

公司的项目只能在内网访问，但是在远程的时候就访问不到了

### 内网穿透原理

本地电脑，正常可以访问外网，但是外网无法访问本地电脑的项目

1. 先让本地电脑先访问指定的外网服务器
2. 再由该服务器搭建桥梁
3. 打通内、外网的访问通道
4. 实现外网访问本地电脑

### 举个例子

本地有一个`localhost:3000`的项目，要开放到外网访问，使用如`花生壳`的内网穿透工具

1. `本地服务`：本地启动`localhost:3000`的项目
2. `内网穿透工具`：花生壳在本地计算机运行了一个客户端，运行在`4000端口`，用于监听来自`花生壳服务端`的连接
3. `连接服务端`：花生壳客户端会连接到一个远程的服务器，这个服务器是由花生壳提供
4. `隧道建立`：然后客户端和服务端建立隧道，外网用户通过服务端的公网地址访问发起请求时，这个请求会被转发到内网工具的客户端
5. `端口转发`：客户端收到来自服务端的请求后，将请求转发到`3000端口`
6. `服务响应`：本地服务处理请求，并将响应发回给客户端
7. `反馈用户`：服务端将响应转发给用户

### 内网穿透工具推荐

各个工具对比和推荐可以查看

<https://www.cnblogs.com/cyrus0w/p/13123504.html>

这里个人使用可以用免费的`花生壳`和`小蝴蝶`

花生壳需要 9 块钱开通映射了
<www.oray.com>

<https://www.xhdnwct.com/>
